dotS_SF[[4]][index[[3]],]
dotS_SF[[4]][index[[4]],]
hist(dotS_SF[[4]][index[[4]],],xlim=c(0,1))
hist(as.numeric(dotS_SF[[4]][index[[4]],]),xlim=c(0,1))
hist(as.matrix(dotS_SF[[4]][index[[4]],]),xlim=c(0,1))
hist(as.matrix(dotS_SF[[4]][index[[4]],]),xlim=c(-1,1))
hist(as.matrix(rowSums(dotS_SF[[4]][index[[4]],]/10)),xlim=c(-1,1))
hist(as.matrix(rowSums((dotS_SF[[4]][index[[4]],])/10)),xlim=c(-1,1))
hist(as.matrix(rowSums(dotS_SF[[4]][index[[4]],]/10)),xlim=c(-1,1))
X11();hist(as.matrix(rowSums(dotS_SF[[3]][index[[3]],]/10)),xlim=c(-1,1))
X11();hist(as.matrix(rowSums(dotS_SF[[3]][index[[3]],]/10)),xlim=c(-1,1),l=50)
X11();hist(as.matrix(rowSums(dotS_SF[[3]][index[[3]],]/10)),xlim=c(-1,1),break=50)
X11();hist(as.matrix(rowSums(dotS_SF[[3]][index[[3]],]/10)),xlim=c(-1,1))
X11();hist(as.matrix(rowSums(dotS_SF[[2]][index[[2]],]/10)),xlim=c(-1,1))
hist(as.matrix(dotS_SF[[4]][index[[4]],]),xlim=c(-1,1))
X11();hist(as.matrix(dot_SF[[4]],xlim=c(-1,1))
)
X11();hist(as.matrix(dotS_SF[[4]],xlim=c(-1,1)))
index
unlist(index)
unlist(dotS_SF)
source("DC2_PVN_pulled.R")
index
dotS
index
length(index)
dotS<-dotS[index,]
hist(dotS)
hist(as.matrix(dotS))
plot_dotS_cluster<-function(cluster){
    index<-mapply(function(output,cells) output[,1] %in% cells, output_raw_list,cluster_cells_ID(cluster))
    index<-unlist(index)
    dotS<-do.call(rbind,dotS_list)
    dotS<-dotS[index,]
    hist(as.matrix(rowSums(dotS)/10),xlim=c(-1,1))
}   
cluster
plot_dotS_cluster(7)
index<-mapply(function(output,cells) output[,1] %in% cells, output_raw_list,cluster_cells_ID(cluster))
    index<-unlist(index)
index
dotS<-do.call(rbind,dotS_list)[index,]
dotS
test<-do.call(rbind,dotS_list)
test[index,]
test[index,]==dotS
dotS
min(dotS_
min(dotS)
min(dotS)
hist(dotS,xlim=c(-1,1),breaks=seq(min(dotS),max(dotS),l=50))
  index<-mapply(function(output,cells) output[,1] %in% cells, output_raw_list,cluster_cells_ID(cluster))
    index<-unlist(index)
    dotS<-do.call(rbind,dotS_list)[index,]
    dotS<-as.matrix(rowSums(dotS)/10)
str(dotS)
dotS
 index<-mapply(function(output,cells) output[,1] %in% cells, output_raw_list,cluster_cells_ID(cluster))
    index<-unlist(index)
    dotS<-do.call(rbind,dotS_list)[index,]
dotS
dotS<-as.numeric(rowSums(dotS)/10)
dotS
index<-mapply(function(output,cells) output[,1] %in% cells, output_raw_list,cluster_cells_ID(cluster))
    index<-unlist(index)
    dotS<-do.call(rbind,dotS_list)[index,]
dotS
rowSums(dotS)
nrow(dotS)
length(rowSums(dotS))
rowSums(dotS)/10
hist(rowSums(dotS)/10)
hist(rowSums(dotS)/10)
plot_dotS_cluster<-function(cluster){
    index<-mapply(function(output,cells) output[,1] %in% cells, output_raw_list,cluster_cells_ID(cluster))
    index<-unlist(index)
    dotS<-do.call(rbind,dotS_list)[index,]
    dotS<-rowSums(dotS)/10
    hist(dotS,xlim=c(-1,1),breaks=seq(min(dotS),max(dotS),l=50))
}
plot_dotS_cluster(cluster)
plot_dotS_cluster<-function(cluster){
    index<-mapply(function(output,cells) output[,1] %in% cells, output_raw_list,cluster_cells_ID(cluster))
    index<-unlist(index)
    dotS<-do.call(rbind,dotS_list)[index,]
    dotS<-rowSums(dotS)/10
    hist(dotS,xlim=c(-1,1),breaks=seq(min(dotS),max(dotS),l=5))
}
plot_dotS_cluster(cluster)
results_toolbox
plot_dotS_cluster(2)
plot_dotS_cluster(1)
plot_dotS_cluster(3)
plot_dotS_cluster(4)
plot_dotS_cluster(5)
plot_dotS_cluster(6)
plot_dotS_cluster(7)
plot_dotS_cluster(4)
X11();plot_dotS_cluster(7)
source("DC2_PVN_pulled.R")
plot_dotS_cluster(7)
source("DC2_PVN_pulled.R")
plot_dotS_cluster(7)
source("DC2_PVN_pulled.R")
plot_dotS_cluster(7)
plot_dotS_cluster(4)
results_toolbox
plot_cluster(7)
plot_cluster(7)
plot_cluster(7)
plot_cluster(7)
plot_cluster(7)
plot_cluster(7)
plot_dotS_cluster(7)
X11();plot_dotS_cluster(3)
X11();plot_dotS_cluster(2)
quit()
source("DC2_PVN_pulled.R")
plot_cluster(1)
plot_cluster(7)
X11();plot_dotS_cluster(7)
X11();plot_dotS_cluster(3)
plot_cluster(3,T)
source("DC2_PVN_pulled.R")
plot_cluster(1,T)
source("DC2_PVN_pulled.R")
plot_cluster(1,T)
plot_cluster(3,T)
plot_cluster(8)
X11();plot_dotS_cluster(8)
plot_cluster(9)
source("DC2_PVN_pulled.R")
plot_cluster(4,T)
plot_cluster(2)
plot_cluster(2)
data
cluster_cells_ID(1)
cluster
> cluster
[1] 7
 index<-mapply(function(output,cells) output[,1] %in% cells, output_raw_list,cluster_cells_ID(cluster))
index
order
ep
output_raw_list[[1]][,grep("DOT_90",epochs)]
output_raw_list[[1]][,grep("DOT_90",epochs)][1,]
ep
grep("DOT_90",epochs)
epochs
grep("DOT_90",ep)
output_raw_list[[1]][,grep("DOT_90",ep)][1,]
output_raw_list[[1]][,grep("DOT_90",ep)+1][1,]
rowSums(output_raw_list[[1]][,grep("DOT_90",ep)+1])
rowSums(output_raw_list[[1]][,grep("DOT_90",ep)+1])-rowSums(output_raw_list[[1]][,grep("DOT_270",ep)+1])
(rowSums(output_raw_list[[1]][,grep("DOT_90",ep)+1])-rowSums(output_raw_list[[1]][,grep("DOT_270",ep)+1]))rowSums(output_raw_list[[1]][,grep("DOT_90",ep)+1])+rowSums(output_raw_list[[1]][,grep("DOT_270",ep)+1])
(rowSums(output_raw_list[[1]][,grep("DOT_90",ep)+1])-rowSums(output_raw_list[[1]][,grep("DOT_270",ep)+1]))/rowSums(output_raw_list[[1]][,grep("DOT_90",ep)+1])+rowSums(output_raw_list[[1]][,grep("DOT_270",ep)+1])
(rowSums(output_raw_list[[1]][,grep("DOT_90",ep)+1])-rowSums(output_raw_list[[1]][,grep("DOT_270",ep)+1]))/(rowSums(output_raw_list[[1]][,grep("DOT_90",ep)+1])+rowSums(output_raw_list[[1]][,grep("DOT_270",ep)+1]))
max((rowSums(output_raw_list[[1]][,grep("DOT_90",ep)+1])-rowSums(output_raw_list[[1]][,grep("DOT_270",ep)+1]))/(rowSums(output_raw_list[[1]][,grep("DOT_90",ep)+1])+rowSums(output_raw_list[[1]][,grep("DOT_270",ep)+1])))
(rowSums(output_raw_list[[1]][,grep("DOT_90",ep)+1])-rowSums(output_raw_list[[1]][,grep("DOT_270",ep)+1]))/(rowSums(output_raw_list[[1]][,grep("DOT_90",ep)+1])+rowSums(output_raw_list[[1]][,grep("DOT_270",ep)+1]))
lapply(output_raw_list,function(output_raw) output_raw[,grep("DOT_90",ep)+1])-rowSums(output_raw_list[[1]][,grep("DOT_270",ep)+1]))/(rowSums(output_raw_list[[1]][,grep("DOT_90",ep)+1])+rowSums(output_raw_list[[1]][,grep("DOT_270",ep)+1]))
lapply(output_raw_list,function(output_raw) output_raw[,grep("DOT_90",ep)+1])-rowSums(output_raw[,grep("DOT_270",ep)+1]))/(rowSums(output_raw[,grep("DOT_90",ep)+1])+rowSums(output_raw[,grep("DOT_270",ep)+1]))
lapply(output_raw_list,function(output_raw) output_raw[,grep("DOT_90",ep)+1])-rowSums(output_raw[,grep("DOT_270",ep)+1]))/(rowSums(output_raw[,grep("DOT_90",ep)+1])+rowSums(output_raw[,grep("DOT_270",ep)+1])
lapply(output_raw_list,function(output_raw) (output_raw[,grep("DOT_90",ep)+1]-rowSums(output_raw[,grep("DOT_270",ep)+1]))/(rowSums(output_raw[,grep("DOT_90",ep)+1])+rowSums(output_raw[,grep("DOT_270",ep)+1]))
)
dotDS_list<-lapply(output_raw_list,function(output_raw) (output_raw[,grep("DOT_90",ep)+1]-rowSums(output_raw[,grep("DOT_270",ep)+1]))/(rowSums(output_raw[,grep("DOT_90",ep)+1])+rowSums(output_raw[,grep("DOT_270",ep)+1])))
dotDS_list[[1]][1,]
dotDS_list[[1]][290,]
dotDS<-(rowSums(output_raw_list[[1]][,grep("DOT_90",ep)+1])-rowSums(output_raw_list[[1]][,grep("DOT_270",ep)+1]))/(rowSums(output_raw_list[[1]][,grep("DOT_90",ep)+1])+rowSums(output_raw_list[[1]][,grep("DOT_270",ep)+1]))
dotDS
dotDS_list<-lapply(output_raw_list,function(output_raw) ((output_raw[,grep("DOT_90",ep)+1]-rowSums(output_raw[,grep("DOT_270",ep)+1]))/(rowSums(output_raw[,grep("DOT_90",ep)+1])+rowSums(output_raw[,grep("DOT_270",ep)+1]))))
dotDS_list[[1]]
dotDS[1,]
dotDS_list[[1]][1,]
dotDS_list<-lapply(output_raw_list,function(output_raw) output_raw[,grep("DOT_90",ep)+1])
)
dotDS_list[[1]][1,]
dotDS_list<-lapply(output_raw_list,function(output_raw) rowSums(output_raw[,grep("DOT_90",ep)+1]-rowSums(output_raw[,grep("DOT_270",ep)+1]))/(rowSums(output_raw[,grep("DOT_90",ep)+1])+rowSums(output_raw[,grep("DOT_270",ep)+1])))
dotDS_list
dotDS_list<-lapply(output_raw_list,function(output_raw) rowSums(output_raw[,grep("DOT_90",ep)+1]-rowSums(output_raw[,grep("DOT_270",ep)+1]))/(rowSums(output_raw[,grep("DOT_90",ep)+1])+rowSums(output_raw[,grep("DOT_270",ep)+1])))
hist(dotDS_list[[1]])
dotDS_list<-lapply(output_raw_list,function(output_raw) rowSums(output_raw[,grep("DOT_90",ep)+1]-rowSums(output_raw[,grep("DOT_270",ep)+1]))/(rowSums(output_raw[,grep("DOT_90",ep)+1])+rowSums(output_raw[,grep("DOT_270",ep)+1])))
hist(dotDS_list[[1]])
dotDS_list<-lapply(output_raw_list,function(output_raw) (rowSums(output_raw[,grep("DOT_90",ep)+1]-rowSums(output_raw[,grep("DOT_270",ep)+1]))/(rowSums(output_raw[,grep("DOT_90",ep)+1])+rowSums(output_raw[,grep("DOT_270",ep)+1])))
dotDS_list<-lapply(output_raw_list,function(output_raw) (rowSums(output_raw[,grep("DOT_90",ep)+1]-rowSums(output_raw[,grep("DOT_270",ep)+1]))/(rowSums(output_raw[,grep("DOT_90",ep)+1])+rowSums(output_raw[,grep("DOT_270",ep)+1]))
lapply(output_raw_list,function(output_raw) rowSums(output_raw[,grep("DOT_90",ep)+1]-rowSums(output_raw[,grep("DOT_270",ep)+1]))/(rowSums(output_raw[,grep("DOT_90",ep)+1])+rowSums(output_raw[,grep("DOT_270",ep)+1])))
dotDS_list<-lapply(output_raw_list,function(output_raw) (rowSums(output_raw[,grep("DOT_90",ep)+1]-rowSums(output_raw[,grep("DOT_270",ep)+1])))/(rowSums(output_raw[,grep("DOT_90",ep)+1])+rowSums(output_raw[,grep("DOT_270",ep)+1])))
dotDS_list
dotDS_list<-lapply(output_raw_list,function(output_raw) (rowSums(output_raw[,grep("DOT_90",ep)+1]-rowSums(output_raw[,grep("DOT_270",ep)+1])))
)
dotDS_list<-lapply(output_raw_list,function(output_raw) (rowSums(output_raw[,grep("DOT_90",ep)+1]-rowSums(output_raw[,grep("DOT_270",ep)+1]))))
dotDS_list
dotDS_list<-lapply(output_raw_list,function(output_raw) (rowSums(output_raw[,grep("DOT_90",ep)+1]+rowSums(output_raw[,grep("DOT_270",ep)+1]))))
dotDS_list
test
dotDS<-(rowSums(output_raw_list[[1]][,grep("DOT_90",ep)+1])-rowSums(output_raw_list[[1]][,grep("DOT_270",ep)+1]))/(rowSums(output_raw_list[[1]][,grep("DOT_90",ep)+1])+rowSums(output_raw_list[[1]][,grep("DOT_270",ep)+1]))
X11();hist(dotDS_list[[1]])
dotDS_list<-lapply(output_raw_list, function(output_raw) rowSums(output_raw[,grep("DOT_90",ep)+1])-rowSums(output_raw[,grep("DOT_270",ep)+1]))/(rowSums(output_raw[,grep("DOT_90",ep)+1])+rowSums(output_raw[,grep("DOT_270",ep)+1]))
dotDS_list<-lapply(output_raw_list, function(output_raw) rowSums(output_raw[,grep("DOT_90",ep)+1])-rowSums(output_raw[,grep("DOT_270",ep)+1]))/(rowSums(output_raw[,grep("DOT_90",ep)+1])+rowSums(output_raw[,grep("DOT_270",ep)+1]))
dotDS_list<-lapply(output_raw_list, function(output_raw) rowSums(output_raw[,grep("DOT_90",ep)+1]))
dotDS_list[[1]]
dotDS_list<-lapply(output_raw_list, function(output_raw) rowSums(output_raw[,grep("DOT_90",ep)+1])-rowSums(output_raw[,grep("DOT_270",ep)+1])
)
dotDS_list<-lapply(output_raw_list, function(output_raw) (rowSums(output_raw[,grep("DOT_90",ep)+1])-rowSums(output_raw[,grep("DOT_270",ep)+1])))
dotDS_list<-lapply(output_raw_list, function(output_raw) (rowSums(output_raw[,grep("DOT_90",ep)+1])-rowSums(output_raw[,grep("DOT_270",ep)+1]))/(rowSums(output_raw[,grep("DOT_90",ep)+1])+rowSums(output_raw[,grep("DOT_270",ep)+1])))
X11();hist(dotDS_list[[1]])
X11();hist(dotDS)
plot_dotDS_cluster<-function(cluster){
    index<-mapply(function(output,cells) output[,1] %in% cells, output_raw_list,cluster_cells_ID(cluster))
    index<-unlist(index)
    DS<-do.call(rbind,dotDS_list)[index,]
    DS<-rowSums(DS)/10
    hist(dotS,xlim=c(-1,1),breaks=seq(min(DS),max(DS),l=7))
}
plot_dotDS_cluster(7)
cluster
index<-mapply(function(output,cells) output[,1] %in% cells, output_raw_list,cluster_cells_ID(cluster))
    index<-unlist(index)
    DS<-do.call(rbind,dotDS_list)[index,]
    DS<-rowSums(DS)/10
    hist(dotS,xlim=c(-1,1),breaks=seq(min(DS),max(DS),l=7))
index
index
 DS<-do.call(rbind,dotDS_list)[index,]
plot_dotDS_cluster<-function(cluster){
    index<-mapply(function(output,cells) output[,1] %in% cells, output_raw_list,cluster_cells_ID(cluster))
    index<-unlist(index)
    DS<-do.call(rbind,dotDS_list)[index]
    hist(dotS,xlim=c(-1,1),breaks=seq(min(DS),max(DS),l=7))
}
plot_dotDS_cluster(7)
DS
plot_dotDS_cluster<-function(cluster){
    index<-mapply(function(output,cells) output[,1] %in% cells, output_raw_list,cluster_cells_ID(cluster))
    index<-unlist(index)
    DS<-unlust(dotDS_list)[index]
    hist(dotS,xlim=c(-1,1),breaks=seq(min(DS),max(DS),l=7))
}
plot_dotDS_cluster(7)
plot_dotDS_cluster<-function(cluster){
    index<-mapply(function(output,cells) output[,1] %in% cells, output_raw_list,cluster_cells_ID(cluster))
    index<-unlist(index)
    DS<-unlist(dotDS_list)[index]
    hist(dotS,xlim=c(-1,1),breaks=seq(min(DS),max(DS),l=7))
}
plot_dotDS_cluster(7)
index<-mapply(function(output,cells) output[,1] %in% cells, output_raw_list,cluster_cells_ID(cluster))
    index<-unlist(index)
    DS<-unlist(dotDS_list)[index]
DS
index<-mapply(function(output,cells) output[,1] %in% cells, output_raw_list,cluster_cells_ID(cluster))
    index<-unlist(index)
sum(index)
source("DC2_PVN_pulled.R")
plot_dotDS_cluster(7)
plot_dotDS_cluster(3)
X11();plot_dotDS_cluster(7)
prefix<-"170623_PVN_barrage_7dpf_F2_1"
results_toolbox<-"/media/meyer-lab/Elements/Work/Stimulus_Barrage/barrage_v2/H2Bslow/170623_PVN_barrage_7dpf_F2_1/im/im_slice_1/results_toolbox"
require(plotrix)
require(mmand)
output=read.table(paste(resultsfolder,"/",prefix,"_output.dat",sep=""));
epochs=read.table(paste(args[3],prefix,"_time.log",sep=""))$V2;
timelog=read.table(paste(args[3],prefix,"_time.log",sep=""))$V1+90;
source("DC2_PVN_pulled.R")
args[3]
epochs<-"/media/meyer-lab/Elements/Work/Stimulus_Barrage/barrage_v2/ExpLogs_TomSh/"
prefix
output
prefix<-"170623_PVN_barrage_7dpf_F2_1"
resultsfolder<-"/media/meyer-lab/Elements/Work/Stimulus_Barrage/barrage_v2/H2Bslow/170623_PVN_barrage_7dpf_F2_1/im/im_slice_1/results_toolbox/"
epochs
epochs<-"/media/meyer-lab/Elements/Work/Stimulus_Barrage/barrage_v2/ExpLogs_TomSh/170623_PVN_barrage_7dpf_F2_1_time.log"
epochs<-read.table("/media/meyer-lab/Elements/Work/Stimulus_Barrage/barrage_v2/ExpLogs_TomSh/170623_PVN_barrage_7dpf_F2_1_time.log")
epochs<-read.table("/media/meyer-lab/Elements/Work/Stimulus_Barrage/barrage_v2/ExpLogs_TomSh/170623_PVN_barrage_7dpf_F2_1_time.log")$V2
timelog<-read.table("/media/meyer-lab/Elements/Work/Stimulus_Barrage/barrage_v2/ExpLogs_TomSh/170623_PVN_barrage_7dpf_F2_1_time.log")$V1+90
epochs
timelog
output=read.table(paste(resultsfolder,"/",prefix,"_output.dat",sep=""));
output
outputR=read.table(paste(resultsfolder,"/",prefix,"_output_raw.dat",sep=""));
outputM=read.table(paste(resultsfolder,"/",prefix,"_output_max.dat",sep=""));
nEP=length(epochs)/2;
epochs=epochs[1:nEP *2];
outputfolderC <- paste(resultsfolder,"/",prefix,"_outputC.dat",sep="");
epochfolderC <- paste(resultsfolder,"/",prefix,"_epochsC.dat",sep="");
outputfolderRC <- paste(resultsfolder,"/",prefix,"_output_rawC.dat",sep="");
outputfolderMC<- paste(resultsfolder,"/",prefix,"_output_maxC.dat",sep="");
EPtimefolderC <- paste(resultsfolder,"/",prefix,"_EPtimeC.dat",sep="");
temp <- paste(resultsfolder,"/",prefix,"_temp.dat",sep="");
#---------------------------remove epoch responses------------------------------
stim<-"CONCENTRIC"
epochsI<- grep((stim), epochs, value = F,invert=T);
outputC<-output[,c(1,epochsI+1)];
#cmean <- colMeans(outputC[,2:ncol(outputC)]);
#outputC[,2:ncol(outputC)] <- outputC[,2:ncol(outputC)]/cmean[col(outputC[,2:ncol(outputC)])];
outputC[,2:ncol(outputC)] <- t(apply(outputC[,2:ncol(outputC)],1,function(x) (x-mean(x))/sd(x)))
write.table(outputC, outputfolderC, row.names = F, col.names = F);
outputRC<-outputR[,c(1,epochsI+1)];
write.table(outputRC, outputfolderRC, row.names = F, col.names = F);
outputMC<-outputM[,c(1,epochsI+1)];
write.table(outputMC, outputfolderMC, row.name= F, col.names = F);
quit()
source("precluster_analysis_barrage1_pull_vol.R")
hist(dark_max)
hist(as.numeric(dark_max))
source("precluster_analysis_barrage1_pull_vol.R")
plot_local_selec_max()
X11();plot_local_selec()
plot_scatter()
source("bar_dot_precluster_analysis_pulled.R")
source("bar_dot_precluster_analysis_pulled.R")
plot_dotselec()
plot_global()
plot_dotselec()
dev.new(20,10)
dev.new(30,10)
dev.new(width=30,height=10)
plot_dotselec()
source("bar_dot_precluster_analysis_pulled.R")
plot_dotselec()
plot_dotselec()
source("bar_dot_precluster_analysis_pulled.R")
plot_dotselec()
plot_dotselec()
source("bar_dot_precluster_analysis_pulled.R")
plot_dotselec()
source("bar_dot_precluster_analysis_pulled.R")
plot_dotselec()
source("bar_dot_precluster_analysis_pulled.R")
plot_dotselec()
source("bar_dot_precluster_analysis_pulled.R")
plot_dotselec()
source("bar_dot_precluster_analysis_pulled.R")
plot_dotselec()
source("bar_dot_precluster_analysis_pulled.R")
plot_dotselec()
source("bar_dot_precluster_analysis_pulled.R")
plot_dotselec()
source("bar_dot_precluster_analysis_pulled.R")
plot_dotselec()
source("bar_dot_precluster_analysis_pulled.R")
plot_dotselec()
source("bar_dot_precluster_analysis_pulled.R")
plot_dotselec()
source("bar_dot_precluster_analysis_pulled.R")
plot_dotselec()
source("bar_dot_precluster_analysis_pulled.R")
plot_dotselec()
epochs
i
epochs[i]
substr(epochs[i],start=7,stop=8)
substr(epochs[i],start=10,stop=11)
substr(epochs[i],start=8,stop=11)
substr(epochs[i],start=9,stop=11)
substr(epochs[19],start=9,stop=11)
substr(epochs[9],start=9,stop=11)
source("bar_dot_precluster_analysis_pulled.R")
i
epochs[i*2-1]
source("bar_dot_precluster_analysis_pulled.R")
plot_dotselec()
plot_dotselec()
source("bar_dot_precluster_analysis_pulled.R")
plot_dotselec()
source("bar_dot_precluster_analysis_pulled.R")
plot_dotselec()
plot_dotselec()
source("bar_dot_precluster_analysis_pulled.R")
plot_dotselec()
source("bar_dot_precluster_analysis_pulled.R")
plot_dotselec()
source("bar_dot_precluster_analysis_pulled.R")
plot_dotselec()
source("bar_dot_precluster_analysis_pulled.R")
plot_dotselec()
plot_dotselec()
source("bar_dot_precluster_analysis_pulled.R")
plot_dotselec()
source("bar_dot_precluster_analysis_pulled.R")
plot_dotselec()
source("bar_dot_precluster_analysis_pulled.R")
plot_dotselec()
source("bar_dot_precluster_analysis_pulled.R")
plot_dotselec()
plot_dotselec()
dev.new(width=8,height=4);
source("bar_dot_precluster_analysis_pulled.R")
plot_dotselec()
source("bar_dot_precluster_analysis_pulled.R")
source("bar_dot_precluster_analysis_pulled.R")
source("bar_dot_precluster_analysis_pulled.R")
plot_dotselec()
plot_dotselec()
source("bar_dot_precluster_analysis_pulled.R")
plot_dotselec()
source("bar_dot_precluster_analysis_pulled.R")
plot_dotselec()
test<-plot_dotselec()
test
param<-hist(dotS270,plot=F)
param
param$breaks
param$breaks>0.5
sumparam$breaks>=0.5
param$breaks>=0.5
sum(param$counts[param$breaks>=0.5])
param$counts[param$breaks>=0.5]
length(param$counts)
length(param$breaks)
length(param$mids)
param$counts[param$mid>=0.55]
sum(param$counts[param$mid>=0.55])

param270<-hist(dotS270,plot=F)
param90<-hist(dotS90,plot=F)
sum(param$counts[param270$mid>=0.55])
sum(param270$counts[param270$mid>=0.55])
sum(param90$counts[param90$mid>=0.55])
sum(param90$counts[param90$mid<=-0.55])
sum(param270$counts[param270$mid<=-0.55])
hist(dotS)
hist(dotS)
param<-hist(dotS,plot=F)
sum(param$counts[param$mid<=-0.55])
sum(param$counts[param$mid>=0.55])
200/11
order(paste(gsub("\\D","",ep),gsub("[^BD]","",ep)))
epochs[order(paste(gsub("\\D","",epochs),gsub("[^BD]","",epochs)))]
epochs[order(paste(gsub("\\D","",epochs),gsub("[^BD]","",epochs)))]
epochs[order(as.numeric(gsub("\\D","",epochs))]
epochs[order(as.numeric(gsub("\\D","",epochs)))]
epochs
plot_dotselec()
source("bar_dot_precluster_analysis_pulled.R")
plot_dotselec()
epochs
epochs[order(as.numeric(gsub("\\D","",epochs))]
epochs[order(as.numeric(gsub("\\D","",epochs))]
epochs[order(as.numeric(gsub("\\D","",epochs))
]
epochs
epochs[order(paste(gsub("\\D","",epochs),gsub("[^BD]","",epochs)))]
epochs[order(paste(as.numeric(gsub("\\D","",epochs)),gsub("[^BD]","",epochs)))]
epochs[order(paste(as.numeric(gsub("\\D","",epochs)))]
epochs[order(paste(as.numeric(gsub("\\D","",epochs))]
epochs[order(paste(as.numeric(gsub("\\D","",epochs)]
epochs[order(paste(as.numeric(gsub("\\D","",epochs))))]
epochs[order(as.numeric(gsub("\\D","",epochs))]
epochs[order(as.numeric(gsub("\\D","",epochs)))]
(as.numeric(gsub("\\D","",epochs)))
as.numeric(gsub("\\D","",epochs))
c(as.numeric(gsub("\\D","",epochs)),gsub("[^BD]","",epochs))))
c(as.numeric(gsub("\\D","",epochs)),gsub("[^BD]","",epochs))
as.numeric(gsub("\\D","",epochs))&gsub("[^BD]","",epochs)
as.numeric(gsub("\\D","",epochs)),gsub("[^BD]","",epochs)
as.numeric(gsub("\\D","",epochs)),gsub("[^BD]","",epochs))
paste(as.numeric(gsub("\\D","",epochs)),gsub("[^BD]","",epochs)))
paste(as.numeric(gsub("\\D","",epochs)),gsub("[^BD]","",epochs))
str(paste(as.numeric(gsub("\\D","",epochs)),gsub("[^BD]","",epochs)))
myLetter<-letters[1:26]
myLetter
match("a",myLetter)
match("b",myLetter)
str(paste(as.numeric(gsub("\\D","",epochs)),match(gsub("[^BD]","",epochs,myLetter))))
str(paste(as.numeric(gsub("\\D","",epochs)),match((gsub("[^BD]","",epochs),myLetter))))
match((gsub("[^BD]","",epochs),myLetter)))
gsub("[^BD]","",epochs)
match(gsub("[^BD]","",epochs),myLetter)
> 
> 
letter2num <- function(x) {utf8ToInt(x) - utf8ToInt("a") + 1L}
letter2num("D")
letter2num("d")
LETTER2num <- function(x) {utf8ToInt(x) - utf8ToInt("A") + 1L}
LETTER2num("D"_
LETTER2num("D"_)
LETTER2num("D")
lapply(gsub("[^BD]","",epochs) function(x) LETTER2num(x))
lapply(gsub("[^BD]","",epochs), function(x) LETTER2num(x))
sapply(gsub("[^BD]","",epochs), function(x) LETTER2num(x))
str(sapply(gsub("[^BD]","",epochs), function(x) LETTER2num(x)))
as.numeric(sapply(gsub("[^BD]","",epochs), function(x) LETTER2num(x)))
as.numeric(sapply(gsub("[^BD]","",epochs), function(x) LETTER2num(x)))[2]
as.numeric(sapply(gsub("[^BD]","",epochs), function(x) LETTER2num(x)))[3]
as.numeric(sapply(gsub("[^BD]","",epochs), function(x) LETTER2num(x)))
as.numeric(gsub("\\D","",epochs)
)
as.numeric(paste(gsub("\\D","",epochs))
)
as.numeric(paste(gsub("\\D","",epochs)),as.numeric(sapply(gsub("[^BD]","",epochs), function(x) LETTER2num(x))))
(paste(gsub("\\D","",epochs)),as.numeric(sapply(gsub("[^BD]","",epochs), function(x) LETTER2num(x))))
paste(as.numeric(gsub("\\D","",epochs)),(sapply(gsub("[^BD]","",epochs), function(x) LETTER2num(x)))
)
order(paste(as.numeric(gsub("\\D","",epochs)),(sapply(gsub("[^BD]","",epochs), function(x) LETTER2num(x)))))
epochs[order(paste(as.numeric(gsub("\\D","",epochs)),(sapply(gsub("[^BD]","",epochs), function(x) LETTER2num(x)))))]
c(paste(as.numeric(gsub("\\D","",epochs)),(sapply(gsub("[^BD]","",epochs), function(x) LETTER2num(x)))))
c(as.numeric(gsub("\\D","",epochs)),(sapply(gsub("[^BD]","",epochs), function(x) LETTER2num(x))))
paste(as.numeric(gsub("\\D","",epochs)),(sapply(gsub("[^BD]","",epochs), function(x) LETTER2num(x)))))
paste(as.numeric(gsub("\\D","",epochs)),(sapply(gsub("[^BD]","",epochs), function(x) LETTER2num(x))))
as.numeric(paste(as.numeric(gsub("\\D","",epochs)),(sapply(gsub("[^BD]","",epochs), function(x) LETTER2num(x)))))
as.integer(paste(as.numeric(gsub("\\D","",epochs)),(sapply(gsub("[^BD]","",epochs), function(x) LETTER2num(x)))))
as.integer(paste(as.numeric(gsub("\\D","",epochs)),(sapply(gsub("[^BD]","",epochs), function(x) LETTER2num(x)))))
paste(as.numeric(gsub("\\D","",epochs)),(sapply(gsub("[^BD]","",epochs), function(x) LETTER2num(x))))
c("BAR","DOT")
c("BAR","DOT","BAR")
order(c("BAR","DOT","BAR"))
order(c("BAR","DOT","BAR"))

plot_dotselec()
plot_dotselec()
quit()
